import{_ as m,g as u,j as _,c as f,a as s,k as c,v as r,b as g,w as h,r as x,o as w,p as v,e as b}from"./index-CHvVmEgM.js";import{u as k}from"./userStore-CzKLxPK3.js";import{A as d}from"./swal-DejA2kPI.js";import"./sweetalert2.all-CuXmkrec.js";const y=""+new URL("../icons/user.svg",import.meta.url).href,U=""+new URL("../icons/password.svg",import.meta.url).href,S={data(){return{email:"",password:""}},methods:{...u(k,["setUser","setUserCookie"]),login(){const o="http://localhost:3001/login",t={email:this.email,password:this.password};_.post(o,t).then(e=>{this.email="",this.password="",e.data.accessToken&&e.data.user.role==="user"&&this.setUserCookie(e.data.user.id,e.data.accessToken),d.toastTop("success","登入成功"),this.$router.replace("/")}).catch(e=>{console.log(e),d.toastTop("error",e.response.data)})}}},n=o=>(v("data-v-f77ac0c0"),o=o(),b(),o),T={class:"row justify-content-center my-6"},V={class:"login-container d-flex flex-column justify-content-center align-items-center py-5"},j=n(()=>s("h2",null,"Login",-1)),C={class:"d-flex flex-row mb-3"},I=n(()=>s("div",{class:"d-flex align-items-center"},[s("img",{src:y,alt:"account",width:"20",class:"me-3"})],-1)),L={class:"d-flex flex-row mb-3"},A=n(()=>s("div",{class:"d-flex align-items-center"},[s("img",{src:U,alt:"password",width:"20",class:"me-3"})],-1)),B=n(()=>s("button",{type:"submit",class:"btn-login"},[s("span",{class:"login-text"},"登入")],-1)),D={class:"d-lg-flex flex-lg-row align-items-center"},N=n(()=>s("div",{class:"text-white mb-2 mb-lg-0 me-lg-2"},"還不是會員嗎？",-1)),R=n(()=>s("button",{type:"button",class:"btn-signup"},[s("span",{class:"signup-text"},"註冊")],-1));function E(o,t,e,M,a,l){const p=x("router-link");return w(),f("div",T,[s("div",V,[j,s("form",{onSubmit:t[2]||(t[2]=(...i)=>l.login&&l.login(...i)),class:"d-flex flex-column justify-content-center align-items-center"},[s("div",C,[I,c(s("input",{type:"text",class:"login-input",placeholder:"帳號","onUpdate:modelValue":t[0]||(t[0]=i=>a.email=i)},null,512),[[r,a.email]])]),s("div",L,[A,c(s("input",{type:"text",class:"login-input",placeholder:"密碼","onUpdate:modelValue":t[1]||(t[1]=i=>a.password=i)},null,512),[[r,a.password]])]),B],32),s("div",D,[N,g(p,{to:"/signup"},{default:h(()=>[R]),_:1})])])])}const H=m(S,[["render",E],["__scopeId","data-v-f77ac0c0"]]);export{H as default};
