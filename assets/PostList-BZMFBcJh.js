import{_ as h,j as _,c as s,a as t,t as o,F as c,g as r,h as d,o as a,p as m,e as u}from"./index-C2i99ZDD.js";const v={data(){return{movieId:"",movie:{},posts:[]}},mounted(){this.getPosts()},watch:{"$route.params":{immediate:!0,handler(){this.$route.params.id&&this.getPosts()}}},methods:{getPosts(){this.movieId=this.$route.params.id;const n=`http://localhost:3001/movies/${this.movieId}?_embed=posts`;_.get(n).then(i=>{console.log(i),this.movie=i.data,this.posts=i.data.posts}).catch(i=>{console.log(i)})}}},p=n=>(m("data-v-bd83cfae"),n=n(),u(),n),f={class:"text-white"},b={class:"mx-2"},x=p(()=>t("ul",{class:"nav mb-5",id:"myTab",role:"tablist"},[t("li",{class:"nav-item",role:"presentation"},[t("a",{class:"nav-link active fs-5 px-1 mx-2",id:"all-tab","data-bs-toggle":"tab","data-bs-target":"#all",href:"#",role:"tab"}," 所有影評 ")]),t("li",{class:"nav-item",role:"presentation"},[t("a",{class:"nav-link fs-5 px-1 mx-2",id:"noSpoiler-tab","data-bs-toggle":"tab","data-bs-target":"#noSpoiler",href:"#",role:"tab"}," 無雷影評 ")])],-1)),g={key:0,class:"tab-content",id:"myTabContent"},y={class:"tab-pane fade show active",id:"all",role:"tabpanel"},k={class:"d-flex flex-column justify-content-center px-4"},w={class:"row d-flex flex-column align-items-center"},I={class:"post-content"},S={class:"tab-pane fade",id:"noSpoiler",role:"tabpanel"},N={class:"d-flex flex-column justify-content-center px-4"},P={class:"row d-flex flex-column align-items-center"},j={key:0,class:"post-card px-4 py-5 mb-5"},B={class:"post-content"},$={key:1,class:"row justify-content-center align-items-center"},C=p(()=>t("h2",{class:"noPost"},"本片尚無影評，快來寫下你的評論吧！",-1)),F=[C];function L(n,i,T,V,l,D){return a(),s("section",f,[t("h1",b,o(l.movie.name)+" "+o(l.movie.englishName),1),t("div",null,[x,l.posts.length?(a(),s("div",g,[t("div",y,[t("div",k,[t("div",w,[(a(!0),s(c,null,r(l.posts,e=>(a(),s("div",{key:e.id,class:"post-card px-4 py-5 mb-5"},[t("h5",null,o(e.title),1),t("p",null,o(e.userName),1),t("p",I,o(e.content),1)]))),128))])])]),t("div",S,[t("div",N,[t("div",P,[(a(!0),s(c,null,r(l.posts,e=>(a(),s(c,{key:e.id},[e.is_spoiled?d("",!0):(a(),s("div",j,[t("h5",null,o(e.title),1),t("p",null,o(e.userName),1),t("p",B,o(e.content),1)]))],64))),128))])])])])):d("",!0),l.posts.length?d("",!0):(a(),s("div",$,F))])])}const q=h(v,[["render",L],["__scopeId","data-v-bd83cfae"]]);export{q as default};
