import{_,o as a,c as n,a as t,t as l,j as h,F as p,g as f,b,r as x,p as v,e as $}from"./index-CZ59x5M_.js";import{m as P}from"./modalMixin-Bgdm-D32.js";const g={props:["tempPost"],data(){},mixins:[P]},y={id:"addPostModal",ref:"modal",class:"modal fade",tabindex:"-1"},M={class:"modal-dialog modal-lg post-modal"},k={class:"modal-content border-0"},w=t("div",{class:"modal-header bg-dark text-white"},[t("h5",{id:"addPostModalLabel",class:"text-white modal-title"},"我的影評"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),I={class:"modal-body px-6 py-4 text-dark"},D=t("div",{class:"modal-footer px-3"},[t("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 關閉 ")],-1);function U(s,c,o,m,d,r){return a(),n("div",y,[t("div",M,[t("div",k,[w,t("div",I,[t("h2",null,l(o.tempPost.title),1),t("p",null,l(o.tempPost.content),1)]),D])])],512)}const j=_(g,[["render",U]]),L={data(){return{posts:[],tempPost:{}}},components:{UserPostDetail:j},mounted(){this.getUserPost()},methods:{getUserPost(){const c=`http://localhost:3001/users/${document.cookie.replace(/(?:(?:^|.*;\s*)userId\s*=\s*([^;]*).*$)|^.*$/,"$1")}?_embed=posts`;h.get(c).then(o=>{console.log(o),this.posts=o.data.posts}).catch(o=>{console.log(o)})},openDetailModal(s){this.tempPost={...s},this.$refs.userpostModal.openModal()}}},i=s=>(v("data-v-5faaaff6"),s=s(),$(),s),S={class:"row justify-content-center"},B={class:"col-md-12"},C=i(()=>t("div",{class:"d-flex justify-content-center align-items-center mb-5"},[t("i",{class:"bi bi-pencil-square fs-2"}),t("h2",{class:"pt-2 ms-3"},"我的影評列表")],-1)),F={class:"row"},H={class:"col-12 px-5"},N=["innerHTML"],T=["onClick"],V=i(()=>t("div",{class:"text-open"},"展開影評",-1)),q=i(()=>t("i",{class:"bi bi-chevron-down text-white fs-6 ms-3"},null,-1)),E=[V,q];function z(s,c,o,m,d,r){const u=x("User-Post-Detail");return a(),n(p,null,[t("div",S,[t("div",B,[C,t("div",F,[t("div",H,[(a(!0),n(p,null,f(d.posts,e=>(a(),n("div",{key:e.id,class:"post-card px-4 py-5 mb-5"},[t("h5",null,l(e.title),1),t("p",{innerHTML:e.content,class:"post-content"},null,8,N),t("button",{type:"button",class:"ms-auto d-flex flex-row justify-content-center align-items-center open-detail",onClick:A=>r.openDetailModal(e)},E,8,T)]))),128))])])])]),b(u,{ref:"userpostModal","temp-post":d.tempPost},null,8,["temp-post"])],64)}const K=_(L,[["render",z],["__scopeId","data-v-5faaaff6"]]);export{K as default};
