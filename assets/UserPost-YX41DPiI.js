import{_ as p,o as n,c as a,a as t,t as _,i as h,F as r,j as b,b as f,r as x,p as v,e as $}from"./index-3RIVRUOS.js";import{m as P}from"./modalMixin-Y75er8yH.js";const g={props:["tempPost"],mixins:[P]},y={id:"addPostModal",ref:"modal",class:"modal fade",tabindex:"-1"},M={class:"modal-dialog modal-lg post-modal"},w={class:"modal-content border-0"},k=t("div",{class:"modal-header bg-dark text-white"},[t("h5",{id:"addPostModalLabel",class:"text-white modal-title"},"我的影評"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),I={class:"modal-body px-6 py-4 text-dark"},D=["innerHTML"],L=t("div",{class:"modal-footer px-3"},[t("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 關閉 ")],-1);function U(s,c,e,m,d,l){return n(),a("div",y,[t("div",M,[t("div",w,[k,t("div",I,[t("h2",null,_(e.tempPost.title),1),t("p",{innerHTML:e.tempPost.content},null,8,D)]),L])])],512)}const j=p(g,[["render",U]]),H={data(){return{posts:[],tempPost:{}}},components:{UserPostDetail:j},mounted(){this.getUserPost()},methods:{getUserPost(){const c=`https://two023-vue3-moviegalaxy.onrender.com/users/${document.cookie.replace(/(?:(?:^|.*;\s*)userId\s*=\s*([^;]*).*$)|^.*$/,"$1")}?_embed=posts`;h.get(c).then(e=>{console.log(e),this.posts=e.data.posts}).catch(e=>{console.log(e)})},openDetailModal(s){this.tempPost={...s},this.$refs.userpostModal.openModal()}}},i=s=>(v("data-v-64351814"),s=s(),$(),s),S={class:"row justify-content-center"},T={class:"col-md-12"},B=i(()=>t("div",{class:"d-flex justify-content-center align-items-center mb-5"},[t("i",{class:"bi bi-pencil-square fs-2"}),t("h2",{class:"pt-2 ms-3"},"我的影評列表")],-1)),C={class:"row"},F={class:"col-12 px-5"},N=["innerHTML"],V=["onClick"],q=i(()=>t("div",{class:"text-open"},"展開影評",-1)),E=i(()=>t("i",{class:"bi bi-chevron-down text-white fs-6 ms-3"},null,-1)),z=[q,E];function A(s,c,e,m,d,l){const u=x("User-Post-Detail");return n(),a(r,null,[t("div",S,[t("div",T,[B,t("div",C,[t("div",F,[(n(!0),a(r,null,b(d.posts,o=>(n(),a("div",{key:o.id,class:"post-card px-4 py-5 mb-5"},[t("h5",null,_(o.title),1),t("p",{innerHTML:o.content,class:"post-content"},null,8,N),t("button",{type:"button",class:"ms-auto d-flex flex-row justify-content-center align-items-center open-detail",onClick:G=>l.openDetailModal(o)},z,8,V)]))),128))])])])]),f(u,{ref:"userpostModal","temp-post":d.tempPost},null,8,["temp-post"])],64)}const O=p(H,[["render",A],["__scopeId","data-v-64351814"]]);export{O as default};
